{% extends 'includes/base.html' %}

{% block navbar_title %}
    {% if form.instance.pk %}Edit Assigned Subject{% else %}Assign New Subject{% endif %}
{% endblock %}

{% block navbar_btns %}
    {% if request.GET.teacher %}
        {% url 'academics:teacher:detail' pk=request.GET.teacher as back_destination %}
    {% elif request.GET.schoolclass %}
        {% url 'academics:schoolclass:detail' pk=request.GET.schoolclass as back_destination %}
    {% endif %}
    <a href="{{ back_destination }}"
       class="hidden sm:inline-flex items-center gap-2 bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 px-4 py-2 rounded-lg text-sm font-medium transition-colors shadow-sm">
        <i class="bi bi-arrow-left"></i> Back to List
    </a>
{% endblock %}

{% block content %}
    <div class="max-w-3xl mx-auto">
        <div class="bg-white shadow-sm rounded-xl overflow-hidden border border-gray-100 sm:border-transparent">

            <div class="p-4 sm:p-6">
                {% if request.GET.teacher %}
                    {% url 'academics:teacher:detail' pk=request.GET.teacher as cancel_destination %}
                {% elif request.GET.schoolclass %}
                    {% url 'academics:schoolclass:detail' pk=request.GET.schoolclass as cancel_destination %}
                {% endif %}

                {% include 'includes/form.html' with form=form show_secondary_btn=True secondary_btn_url=cancel_destination secondary_btn_label="Cancel" %}
            </div>

        </div>
    </div>
{% endblock %}