{% extends 'includes/base.html' %}

{% block navbar_title %}
    {% if form.instance.pk %}Edit Enrollment{% else %}Enroll New Student{% endif %}
{% endblock %}

{% block navbar_btns %}
    {% if request.GET.schoolclass %}
        {% url 'academics:schoolclass:detail' pk=request.GET.schoolclass as back_destination %}
    {% else %}
        {% url 'academics:enrollment:list' as back_destination %}
    {% endif %}
    <a href="{{ back_destination }}"
       class="hidden sm:inline-flex items-center gap-2 bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 px-4 py-2 rounded-lg text-sm font-medium transition-colors shadow-sm">
        <i class="bi bi-arrow-left"></i> Back to List
    </a>
{% endblock %}

{% block content %}
    <div class="max-w-3xl mx-auto">
        <div class="bg-white shadow-sm rounded-xl overflow-hidden border border-gray-100 sm:border-transparent">

            <div class="px-4 py-4 sm:px-6 sm:py-5 border-b border-gray-100 bg-gray-50/50">
                <h3 class="text-base sm:text-lg font-semibold text-gray-900">
                    {% if form.instance.pk %}
                        Update Student Details
                    {% else %}
                        Student Information
                    {% endif %}
                </h3>
                <p class="mt-1 text-xs sm:text-sm text-gray-500">
                    {% if form.instance.pk %}
                        Modify the existing information for this student.
                    {% else %}
                        Fill in the details below to add a new student to the system.
                    {% endif %}
                </p>
            </div>

            <div class="p-4 sm:p-6">
                {% if request.GET.schoolclass %}
                    {% url 'academics:schoolclass:detail' pk=request.GET.schoolclass as back_destination %}
                {% else %}
                    {% url 'academics:enrollment:list' as back_destination %}
                {% endif %}

                {% include 'includes/form.html' with form=form show_secondary_btn=True secondary_btn_url=back_destination secondary_btn_label="Cancel" %}
            </div>

        </div>
    </div>
{% endblock %}